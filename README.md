# Data Acquisition System (DAS)

## Introduction
Welcome! ***DAS*** is an application that can read a live log files and look for specific configured events. This application is not generic and is specific to Manchester Metrolink's operational log files being generated by the Tram Management System.

System log files particularly real-time log files hold valuable operational and performance data that can be processed and interpreted instantaneously providing vital information to the organisation. DAS connects to 82 log files which hold data relating directly to Manchester Metrolink Railway. This data includes detecting railcar movements over transponder loops and physical relays which control every junction on the railway.

The problem is there was no way to liberate this information from an air-gapped network and make it available in a data repository for analysis. The DAS application is installed locally on the same network where the logs files are hosted. The application then tails each log file and processes each line against a list of configured (of interest) events. When a configured event occurs the application gathers up the relevant data and POSTS it to the Common Database (See Common Database project) through a series of firewalls which maintain the integrity of the network.

The system shows real promise particularly Railway Points Machine Performance. Downstream analysis is able to indicate when the performance for Any Railway Points Machine movement is outside a tolerable performance envelope. There is now a team working to capitalise on this technology. I no longer have access to the github repo, however Iâ€™m happy to talk about my experience.

## Requirements
1. Node.Js.
2. Linux or Apple OS only, this has not been tested with windows.
3. The Log-Reply repo will need to be setup and running before this application will run.

## Concepts
1. The system reads live log files and checks each entry looking for configured events.
2. data from occurrences of configured events are pulled together and transmitted to the common database system via HTTP POST.
3. Before data can be posted to the Common Database DAS need to authenticate and store a token.
4. For demo purposes the Common Database does not need to be running however you will see an error "ECONNREFUSED" in the output.

## Quick Start
There is an example configuration file and sample log files from a light railway system included to get you started.

1. Follow instruction on the log-replay repo and get that running first.
2. Update the config/io/app1LogPaths.js file setting the location to the replicated files.

```
npm install
npm run login // only if you have common database running
npm run start_pointsmon
```

## FAQ
No FAQ yet

## Change Log
- 2025-02-16 - Updated the make the system run as an example for my personal repository. 
- 2025-02-16 - Included the README.md file and GNU license.
- 2025-02-15 - Fixed a few typos in the README.
